<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SleepShare | العالم يهدأ معًا</title>

  <link href="styles.css" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap"
    rel="stylesheet"
  />
</head>

<body>
  <div class="flow-container">
    <h1 class="app-title">SLEEPSHARE</h1>
    <p class="app-subtitle">المنصة العالمية للنوم الجماعي والوعي الهادئ</p>

    <!-- 1. صفحة الترحيب -->
    <section class="sleep-screen is-active" id="screen-welcome">
      <div class="card">
        <h2 class="step-title">أهلاً بك في SleepShare</h2>
        <p class="step-text">
          هنا تتحوّل لحظة النوم من عزلة فردية إلى انتماء صامت مع آلاف الأرواح حول العالم.
        </p>
        <button class="primary-btn" id="btn-start">ابدأ / تسجيل الدخول</button>
      </div>
    </section>

    <!-- 2. صفحة تسجيل الدخول -->
    <section class="sleep-screen" id="screen-auth">
      <div class="card">
        <h2 class="step-title">تسجيل الدخول الهادئ</h2>
        <p class="step-text">يمكنك إدخال اسم مستعار (اختياري) أو المتابعة مباشرة دون اسم.</p>

        <input
          type="text"
          id="input-name"
          class="text-input"
          placeholder="اكتب اسمًا مستعارًا (اختياري)"
        />

        <div class="step-actions">
          <button class="secondary-btn" id="btn-auth-skip">تخطي</button>
          <button class="primary-btn" id="btn-auth-continue">متابعة</button>
        </div>
      </div>
    </section>

    <!-- 3. إعلان النية -->
    <section class="sleep-screen" id="screen-intention">
      <div class="card">
        <h2 class="step-title">إعلان النيّة للنوم</h2>
        <p class="step-text">
          بضغطك على هذا الزر، تُعلن بهدوء أنك ذاهب للنوم الآن وتنضم إلى شبكة السكون العالمية.
        </p>
        <button class="primary-btn" id="btn-going-to-sleep">أنا ذاهب للنوم الآن</button>
      </div>
    </section>

    <!-- 4. اختيار الحالة -->
    <section class="sleep-screen" id="screen-mood">
      <div class="card">
        <h2 class="step-title">كيف تشعر الآن؟</h2>
        <p class="step-text">اختر الرمز الأقرب لحالتك الحالية:</p>

        <div class="pill-list" id="mood-list">
          <button class="pill mood-option" data-mood="Wave">Wave – هدوء</button>
          <button class="pill mood-option" data-mood="Stone">Stone – تعب</button>
          <button class="pill mood-option" data-mood="Cloud">Cloud – تشتّت</button>
          <button class="pill mood-option" data-mood="Echo">Echo – حنين</button>
          <button class="pill mood-option" data-mood="Light">Light – تفاؤل</button>
          <button class="pill mood-option" data-mood="Drift">Drift – شرود</button>
          <button class="pill mood-option" data-mood="Focus">Focus – صفاء</button>
          <button class="pill mood-option" data-mood="Ease">Ease – راحة</button>
        </div>
      </div>
    </section>

    <!-- 5. اختيار الغرفة الجماعية -->
    <section class="sleep-screen" id="screen-room">
      <div class="card">
        <h2 class="step-title">اختر غرفة السكون</h2>
        <p class="step-text">
          اختر الفضاء الذي تريد أن تنام ضمنه الليلة. كل غرفة تحمل طاقة مختلفة ورمزية خاصة.
        </p>

        <div class="pill-list">
          <button class="pill room-option" data-room="Global Room">غرفة عالمية – Global</button>
          <button class="pill room-option" data-room="Tide Room">Tide Room – غرفة الموج</button>
          <button class="pill room-option" data-room="Hearth Room">Hearth Room – غرفة الدفء</button>
          <button class="pill room-option" data-room="Cave Room">Cave Room – الكهف</button>
          <button class="pill room-option" data-room="Nest Room">Nest Room – العشّ</button>
          <button class="pill room-option" data-room="Nomad Room">Nomad Room – الرحلة</button>
          <button class="pill room-option" data-room="Aurora Room">Aurora Room – الشفق</button>
          <button class="pill room-option" data-room="Friends Room">Friends Room – غرفة الأصدقاء</button>
          <button class="pill room-option" data-room="Silent Room">Silent Room – غرفة الصمت</button>
        </div>
      </div>
    </section>

    <!-- 6. رسالة الغد -->
    <section class="sleep-screen" id="screen-message">
      <div class="card">
        <h2 class="step-title">رسالة الغد (مجهولة)</h2>
        <p class="step-text">
          اكتب جملة قصيرة لشخص مجهول سيقرؤها عندما يستيقظ غدًا…
        </p>
        <textarea
          id="tomorrow-message"
          class="text-area"
          rows="4"
          placeholder="اكتب رسالة لطيفة أو مشاعر…"
        ></textarea>

        <div class="step-actions">
          <button class="secondary-btn" id="btn-skip-message">تخطي الرسالة</button>
          <button class="primary-btn" id="btn-send-message">إرسال الرسالة والذهاب للنوم</button>
        </div>
      </div>
    </section>

    <!-- 7. خريطة السكون مع تنفّس بصري -->
    <section class="sleep-screen" id="screen-map">
      <div class="card">
        <h2 class="step-title">خريطة السكون العالمية</h2>
        <p class="step-text">
          أنت الآن جزء من خريطة ليلية صامتة. النقاط المتوهجة تمثل أشخاصًا ينامون الآن.
        </p>

        <div class="map-box" id="map-box">
          <div class="map-sky" id="map-sky"></div>

          <div class="breath-layer">
            <div class="breath-circle"></div>
            <p class="breath-text">تنفّس ببطء: شهيق ٤ ثوانٍ – حبس ٤ – زفير ٦</p>
          </div>

          <p class="map-count">النائمون الآن: <span id="sleepers-count">0</span> شخصًا</p>
          <p class="current-room" id="current-room-text">—</p>
        </div>

        <button class="primary-btn" id="btn-woke-up">أنا استيقظت الآن</button>
      </div>
    </section>

    <!-- 8. رسالة بعد الاستيقاظ -->
    <section class="sleep-screen" id="screen-wake">
      <div class="card">
        <h2 class="step-title">مرحبًا بعودتك</h2>
        <p class="step-text">هذه رسالة رمزية مجهولة من أحد النائمين:</p>

        <div class="message-card">
          <p id="received-message">"كل ليلة فرصة صغيرة لنعيد ترتيب أرواحنا."</p>
        </div>

        <button class="primary-btn" id="btn-show-report">عرض تقرير النوم والمزاج</button>
      </div>
    </section>

    <!-- 9. تقرير النوم -->
    <section class="sleep-screen" id="screen-report">
      <div class="card">
        <h2 class="step-title">تقرير نومك الليلي</h2>

        <ul class="report-list">
          <li>الحالة عند النوم: <span id="report-mood">—</span></li>
          <li>الغرفة المختارة: <span id="report-room">—</span></li>
          <li>المدة التقريبية للجلسة: <span id="report-duration">—</span></li>
          <li>مؤشر السكينة: <span id="report-serenity">—</span></li>
          <li>التوقيع الحلمي: <span id="report-dream">—</span></li>
        </ul>

        <button class="secondary-btn" id="btn-reset-flow">العودة إلى البداية</button>
      </div>
    </section>
  </div>

  <!-- صوت الغرفة (هدوء خفيف) -->
  <!-- ضع ملفات الصوت في مجلد sounds/ بأسماء توافق ما في main.js -->
  <audio id="room-audio" loop></audio>

  <script src="main.js"></script>
</body>
</html>
